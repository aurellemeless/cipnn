import{CI_PREFIX,FORMAT_INTERNATIONAL,FORMAT_LOCAL,MOBILE,OPERATORS,OPERATOR_MOOV,OPERATOR_MTN,OPERATOR_ORANGE,PHONE,PNN_MOBILE_10,PNN_MOBILE_8,PNN_PHONE_10}from"./constants";class CIphonePnn{iPrefix=null;format=FORMAT_LOCAL;phone="";localPart="";network=null;type=null;constructor(O){this.phone=O,this.iPrefix=this.findIprefix(),this.format=this.findFormat(),this.localPart=this.findLocalPart(),this.network=this.findNetwork(),this.type=this.findType()}findIprefix(){var O=CI_PREFIX.filter(O=>this.phone.startsWith(O));return O.length?O[0]:null}findLocalPart(){return this.iPrefix?this.phone.substring(this.iPrefix.length,this.phone.length):this.phone}findFormat(){return this.iPrefix?FORMAT_INTERNATIONAL:FORMAT_LOCAL}findType(){if(8===this.localPart.length){if(PNN_MOBILE_8.includes(this.localPart.substring(0,2)))return MOBILE;if(PNN_PHONE_8.includes(this.localPart.substring(0,3)))return PHONE}if(10===this.localPart.length){if(PNN_MOBILE_10.includes(this.localPart.substring(0,2)))return MOBILE;if(PNN_PHONE_10.includes(this.localPart.substring(0,2)))return PHONE}return null}findNetwork(){if(8!==this.localPart.length&&10!==this.localPart.length)return null;if(8==this.localPart.length){const i=this.localPart;if(this.type===MOBILE)return OPERATORS.MOOV.prefixMobile8.includes(i.substring(0,2))?OPERATOR_MOOV:OPERATORS.MTN.prefixMobile8.includes(i.substring(0,2))?OPERATOR_MTN:OPERATOR_ORANGE;if(this.type===PHONE)return OPERATORS.MOOV.prefix8.includes(i.substring(0,3))?OPERATOR_MOOV:OPERATORS.MTN.prefix8.includes(i.substring(0,3))?OPERATOR_MTN:OPERATOR_ORANGE}else{var O=this.localPart.substring(0,2);if(OPERATORS.MOOV.prefixMobile10===O||OPERATORS.MOOV.prefix10===O)return OPERATOR_MOOV;if(OPERATORS.MTN.prefixMobile10===O||OPERATORS.MTN.prefix10===O)return OPERATOR_MTN;if(OPERATORS.ORANGE.prefixMobile10===O||OPERATORS.ORANGE.prefix10===O)return OPERATOR_ORANGE}return null}migrate8To10(){const O=this.localPart;let i="";var e=this.type;return e&&8===O.length?(e===MOBILE&&(-1<OPERATORS.MOOV.prefixMobile8.indexOf(O.substring(0,2))?i+=OPERATORS.MOOV.prefixMobile10+O:-1<OPERATORS.MTN.prefixMobile8.indexOf(O.substring(0,2))?i+=OPERATORS.MTN.prefixMobile10+O:i+=OPERATORS.ORANGE.prefixMobile10+O),e===PHONE&&(OPERATORS.MOOV.prefix8.includes(O.substring(0,3))?i+=operators.MOOV.prefix10+O:OPERATORS.MTN.prefix8.includes(O.substring(0,3))?i+=OPERATORS.MTN.prefix10+O:i+=OPERATORS.ORANGE.prefix10+O),this.iPrefix?this.iPrefix+i:i):null}}const OPERATORS={MOOV:{prefixMobile10:"01",prefix10:"21",prefixMobile8:["01","02","03","40","41","42","43","50","51","52","53","70","71","72","73"],prefix8:["208","218","228","238"]},MTN:{prefixMobile10:"05",prefix10:"25",prefixMobile8:["04","05","06","44","45","46","54","55","56","64","65","66","74","75","76","84","85","86","94","95","96"],prefix8:["200","210","220","230","240","300","310","320","330","340","350","360"]},ORANGE:{prefixMobile10:"07",prefix10:"27",prefixMobile8:["07","08","09","47","48","49","57","58","59","67","68","69","77","78","79","87","88","89","97","98"],prefix8:["202","203","212","213","215","217","224","225","234","235","243","244","245","306","316","319","327","337","347","359","368"]}},MOBILE="mobile",PHONE="phone",PNN_MOBILE_8=[...OPERATORS.MOOV.prefixMobile8,...OPERATORS.MTN.prefixMobile8,...OPERATORS.ORANGE.prefixMobile8],PNN_PHONE_8=[...OPERATORS.MOOV.prefix8,...OPERATORS.MTN.prefix8,...OPERATORS.ORANGE.prefix8],PNN_MOBILE_10=[OPERATORS.MOOV.prefixMobile10,OPERATORS.MTN.prefixMobile10,OPERATORS.ORANGE.prefixMobile10],PNN_PHONE_10=[OPERATORS.MOOV.prefix10,OPERATORS.MTN.prefix10,OPERATORS.ORANGE.prefix10],CI_PREFIX=["00225","+225"],FORMAT_LOCAL="L",FORMAT_INTERNATIONAL="I",OPERATOR_MOOV="MOOV",OPERATOR_MTN="MTN",OPERATOR_ORANGE="ORANGE";export{CIphonePnn,OPERATORS,MOBILE,PHONE,PNN_MOBILE_8,PNN_PHONE_8,PNN_MOBILE_10,PNN_PHONE_10,CI_PREFIX,FORMAT_LOCAL,FORMAT_INTERNATIONAL,OPERATOR_MOOV,OPERATOR_MTN,OPERATOR_ORANGE};